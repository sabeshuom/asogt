{% extends 'base.html' %}
{% load staticfiles %}
{% block head_content %}
<meta name="viewport" content="width=device-width, initial-scale=1">

<script>
    function openNav() {
      $("#mySidenav").addClass('active');
    }
    function closeNav() {
      $("#mySidenav").removeClass('active');
    }
    function export_excel(){
        $(".results").hide();
        $("#export_excel").show();
        closeNav();
        $("#dashboar_span").html(" Results > Export");
    }
    function resultlist2017(){
        $(".results").hide();
        $("#resultlist2017").show();
        closeNav() 
        $("#dashboar_span").html(" Results > 2017");
    }
    function resultlist2018(){
        $(".results").hide();
        $("#resultlist2018").show();
        closeNav() 
        $("#dashboar_span").html(" Results > 2018");
    }



    //hide it when clicking anywhere else except the popup and the trigger
    $(document).on('click touch', function(event) {
    if (!$(event.target).parents().addBack().is('#mySidenav') && !$(event.target).parents().addBack().is('#dash_board_icon')) {
        $("#mySidenav").removeClass('active');
    }
    });

    $(document).ready(function() {
        export_excel()
        check_authentication(true);
        $('.dropdown-menu a').click(function(){
            $(this).parent().parent().parent().find(".selected").text($(this).text());
        });
    });

</script>

<link href="{% static 'css/results.css' %}" rel="stylesheet">
{% endblock %}

{% block page_content %}
<div id="dash_board_icon" class="dashboard-span" onclick="openNav()">&#9776;  <span id="dashboar_span"></span></div>
<div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a onClick='export_excel()'>Export to Excel</a>
    <a onClick='result2018()'>Result List 2018</a>
    <a onclick='resultlist2017()'>Result List 2017</a>
</div>

<div>
    <div id="export_excel" class ="export_form results" style="display: none">
        <h4>Export Results to Excel</h4>


        <div class="row">
                <div class="col-sm-offset-2 col-sm-4">
                    <div class="label"> State :</div>
                </div>
                <div class="col-sm-6">
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                        <span id="results_selected_state" class="selected">NSW</span>
                        <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a>NSW</a></li>
                            <li><a>QLD</a></li>
                            <li><a>VIC</a></li>
                            <li><a>SA</a></li>          
                            <li class="disabled"><a>ACT</a></li>
                            <li class="disabled"><a>WA</a></li>
                            <li class="disabled"><a>NZW</a></li>
                            <li class="disabled"><a>NZH</a></li>
                        </ul>
                    </div>
                </div>
        </div>

        <div class="row">
                <div class="col-sm-offset-2 col-sm-4">
                    <div class="label"> Year :</div>
                </div>
                <div class="col-sm-6">
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                        <span id="results_selected_year" class="selected">2018</span>
                        <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a>2018</a></li>
                            <li class="disabled"><a href="#">2017</a></li>
                        </ul>
                    </div>
                </div>
        </div>
   
        <div class="row">
                <div class="col-sm-offset-2 col-sm-4">
                    <div class="label"> Format :</div>
                </div>
                <div class="col-sm-6">
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                        <span id="results_selected_format" class="selected">Certificate</span>
                        <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a>Certificate</a></li>
                            <li><a>Trophy</a></li>
                            <li><a>Book</li>
                        </ul>
                    </div>
                </div>
        </div>

        <div class="row">
            <div class="col-sm-offset-4 col-sm-4">
                <a class="btn btn-primary " onclick="get_results(this)">Download</a>
            </div>
        </div>
    </div>

    <div id="resultlist2018" class ="results" style="display: none">
            <h4>Result List 2018</h4>
    </div>

    <div id="resultlist2017" class ="results" style="display: none">
            <h4>Result List 2017</h4>
    </div>
</div>

{% endblock %}